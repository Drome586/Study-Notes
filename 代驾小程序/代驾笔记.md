## 1.	如何获取微信小程序的openId

```java
//首先在前端登陆页面，当点击登陆的时候，微信会提供一个code，之后通过code与微信公众平台注册的AppId和密钥，发送给微信服务器，微信服务器会解析生成OpenID

```

​	<img src="代驾笔记.assets/image-20230604151654416.png" alt="image-20230604151654416" style="zoom:67%;" />

## 2.	Hutool工具类

### BeanUtil

```
可以使用BeanUtil.beanToMap()  将对象转换为Map
```

### MapUtil

#### 跟直接使用map.get()有何区别？

```
Map<String, Object> map= resultMap;
此时你的泛型中有一个Object ，你不知道Object具体是什么类型，如果Object是int类型的，那么普通的get（key）方法就会报错的
所以要使用MapUtils工具类获取
```

```
isNotEmpty ( ) 是否不为空
isEmpty ( ) 是否为空
putAll ( ) 添加所有元素
getString ( ) 获取String类型的值
getObject ( ) 获取Object类型的值
getInteger ( )获取Integer类型的值
get*** ( ) 类似上面的
EMPTY_MAP 获取一个不可修改的空类型Map
unmodifiableMap 获取一个不可以修改的Map（不能新增或删除）
unmodifiableSortedMap 获取一个不可以修改的有序的Map（不能新增或删除）
fixedSizeMap 获取一个固定长度的map
multiValueMap 获取一个多值的map(即一个key可以对应多个value值)
invertMap 返回一个key与value对调的map
predicatedMap() 返回一个满足predicate条件的map
lazyMap 返回一个lazy的map（值在需要的时候可以创建）
```

## 3.	如何获取Token

#### SaToken权限认证

```java
通过获取雪花算法获取的主键Id
StpUtil.login(id);
StpUtil.getTokenInfo.getTokenValue();

//生成Token最终小程序端获取到，保存到StorageSync里面
```

​	<img src="代驾笔记.assets/image-20230604163927336.png" alt="image-20230604163927336" style="zoom:67%;" />

## 4.	腾讯位置地图服务

https://lbs.qq.com/service/webService/webServiceGuide/webServiceMatrix

地图这里只用到了一个起点到一个终点的位置服务，也就是from[纬度，经度] 	 to[纬度，经度]

**估算里程和时间中的	问题设计？**：那如果要设计一个起点对应多个终点服务的话怎么弄？from[纬度，经度]		 to[纬度，经度;纬度，经度]

​	<img src="代驾笔记.assets/image-20230605173404010.png" alt="image-20230605173404010" style="zoom: 67%;" />

**规划行驶路线	问题设计？**：	在估算里程和时间时，我们取的是result中的第一个元素，因为第一个默认代表最短路线和最短时间，但是在规划行驶路线的时候，我们是将result都给统统返回的，因为业务需求，最佳路线不可能只有一条，所以都给返回。